{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","search","handleChange","setSearch","react_default","a","createElement","value","onChange","PersonForm","addPerson","newPerson","setNewPerson","newNumber","setNewNumber","onSubmit","type","Persons","iterate","baseUrl","services_Persons","axios","get","then","response","data","catch","error","console","log","newObject","post","id","delete","put","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","setMessage","useEffect","personsService","timedMessage","setTimeout","personsToShow","find","person","name","toLowerCase","includes","filter","state","event","target","components_Notification","components_Filter","components_PersonForm","preventDefault","personObject","number","length","concat","window","confirm","undefined","map","components_Persons","i","key","onClick","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8e6b5e55.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({search, handleChange, setSearch}) => {\r\n    return(\r\n        <div>\r\n        filter shown with <input value={search} onChange={handleChange(setSearch)}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handleChange, addPerson, newPerson, setNewPerson, newNumber, setNewNumber}) => {\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newPerson} onChange={handleChange(setNewPerson)} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleChange(setNewNumber)} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({iterate}) => {\r\n    return (\r\n        <ul>\r\n            {iterate()}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n\r\n    const response = axios.get(baseUrl)\r\n    return response.then(response => response.data).catch(error => console.log(\"axios.get failed: \" + error))\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const response = axios.post(baseUrl, newObject)\r\n    return response.then(response => response.data).catch(error => console.log(\"axiso.post failed: \" + error))\r\n}\r\n\r\nconst remove = (id) => {\r\n    const response = axios.delete(baseUrl + \"/\" + id)\r\n    return response.then(response => response.data).catch(error => console.log(\"axios.delete failed: \" + error))\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const response = axios.put(baseUrl + \"/\" + id, newObject)\r\n    return response.then(response => response.data).catch(error => console.log(\"axios.put failed:\" + error))\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return (\r\n            <div></div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"message\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from \"react\"\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personsService from './services/Persons'\r\nimport Notification from './components/Notification'\r\nimport './message.css'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newPerson, setNewPerson] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [search, setSearch] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personsService.getAll().then(response => {\r\n            setPersons(response)\r\n        })\r\n    }, [])\r\n\r\n    const timedMessage = (timedMessage) => {\r\n        setMessage(timedMessage)\r\n        setTimeout(() => {\r\n            setMessage(null);\r\n        }, 4000);\r\n    }\r\n\r\n    const personsToShow = persons.find(person => person.name.toLowerCase().includes(search.toLowerCase())) ? persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase())) : []\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObject = {\r\n            name: newPerson,\r\n            number: newNumber\r\n        }\r\n        if (persons.filter(person => person.name === newPerson).length === 0) {\r\n            timedMessage(newPerson + \" added to phonebook\")\r\n            personsService.create(personObject).then(response => {\r\n                setPersons(persons.concat(response))\r\n                setNewPerson('')\r\n                setNewNumber('')\r\n            })\r\n        } else {\r\n            if (window.confirm(`${newPerson} is already added to phonebook. Replace the old number with new one?`)) {\r\n\r\n                personsService.update(persons.filter(person => person.name === newPerson)[0].id, personObject).then(response => {\r\n                    console.log(\"response: \", response)\r\n                    if (response === undefined) {\r\n                        timedMessage(\"information of \" + newPerson + \" has already been removed from server\")\r\n                    } else {\r\n                        timedMessage(\"number of \" + newPerson + \" have been updated\")\r\n                        setPersons(persons.map(person => person.id !== response.id ? person : response))\r\n                    }\r\n                })\r\n                setNewPerson('')\r\n                setNewNumber('')\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleChange = (state) => {\r\n        return (event) => state(event.target.value)\r\n    }\r\n\r\n    const deletePerson = (id) => {\r\n        personsService.remove(id).then(response => {\r\n            setPersons(persons.filter(person => person.id !== id))\r\n            timedMessage(\"Person \" + persons.filter(person => person.id === id)[0].name + \" have been deleted from the phonebook\")\r\n            console.log(response)\r\n        })\r\n    }\r\n\r\n    const iterate = () => {\r\n        return personsToShow.map((person, i) => <li key={i}>{person.name} {person.number} <button onClick={() => { if (window.confirm(\"Delete \" + person.name + \"?\")) deletePerson(person.id) }}>delete</button></li>)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} />\r\n            <Filter search={search} handleChange={handleChange} setSearch={setSearch} />\r\n            <h2>add a new</h2>\r\n            <PersonForm handleChange={handleChange} addPerson={addPerson} newPerson={newPerson} setNewPerson={setNewPerson} newNumber={newNumber} setNewNumber={setNewNumber} />\r\n            <h2>Numbers</h2>\r\n            <Persons iterate={iterate} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App  ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App'\r\n\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}